<!DOCTYPE html>
<html  xml:lang="en" lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>GlassFish Wiki : Metro2.1UnifiedConfig</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="" />
        <meta http-equiv="content-language" content="en" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css" rel="stylesheet" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
        <link href="styles/docs.css" rel="stylesheet" />
        <link href="styles/site1.css" rel="stylesheet" />
        <style> a { color: #555555; } </style>
        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
                <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body class="page-documentation project-gfmvnsite" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <div class="brand"><a href="/glassfish/index.html"><img src="../images/gflogo24.png"><span style="color:#E88A43;font-size:18px;padding-left:11px;padding-top:15px;font-weight:bold;">GlassFish</span> - <span style="font-size:18px;" class="gf-grey">World's first Java EE 7 Application Server</span></a></div>
                    <div class="nav-collapse">
                        <ul class="nav pull-right">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
									<li><a href="/glassfish/LICENSE" title="License">Legal </a></li>
									<li><a href="/glassfish/CONTRIBUTING" title="Contributing">Contributing </a></li>
                                </ul>
                            </li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>

        <br/><br/>
        <div class="container"><body> 
 <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff"> 
  <tbody>
   <tr> 
    <td valign="top" class="pagebody">   <h4><a name="Metro2.1UnifiedConfig-SchedulefortheMetro2.1UnifiedConfigurationFeature"></a>Schedule for the Metro 2.1 Unified Configuration Feature</h2> <h4><a name="Metro2.1UnifiedConfig-Description"></a>Description</h3> <p>As part of this feature we plan to introduce a new single configuration file for all domains and all configuration options of the Metro stack as opposed to current approach that may require users to use multiple configuration files to configure a single web service. The new configuration file format should also be better aligned with the standard webservices.xml format as defined in JSR 109. As part of the feature we plan to design mechanisms that would allow us to provide unified support for other deployment descriptors, with an initial focus on the support for the WebLogic Web Services deployment descriptors.</p> <h4><a name="Metro2.1UnifiedConfig-GlassFish3.1TargetMilestones"></a>GlassFish 3.1 Target Milestones</h3> <p><a href="GlassFishV3Schedule.html#GlassFishV3Schedule-GlassFishV3ScheduleGlassFishServerOpenSourceEd...">GlassFishV3Schedule#GlassFishV3Schedule-GlassFishServerOpenSourceEdition3.1</a></p> 
     <div class="table-wrap"> 
      <table class="confluenceTable">
       <tbody> 
        <tr> 
         <th class="confluenceTh">Milestone</th> 
         <th class="confluenceTh">Start Date (mm/dd/yy)</th> 
         <th class="confluenceTh">End Date (mm/dd/yy)</th> 
         <th class="confluenceTh">Description</th> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="GF3.1MS3.html" title="GF3.1MS3">Milestone 3 </a> </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 7/19/2010 </td> 
         <td class="confluenceTd"> Most P1 features complete </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="GF3.1MS4.html" title="GF3.1MS4">Milestone 4 </a> </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 8/18/2010 </td> 
         <td class="confluenceTd"> SCF for cluster infrastructure and high availability, All P1 features complete, Low P1 bug count </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> Milestone 5 </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 09/14/2010 </td> 
         <td class="confluenceTd"> SCF for remaining areas, All features complete, Zero P1 bug count </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="http://www.oracle.com/us/javaonedevelop/index.html">JavaOne</a> break </td> 
         <td class="confluenceTd"> 09/19/2010 </td> 
         <td class="confluenceTd"> 09/23/2010 </td> 
         <td class="confluenceTd">&nbsp;</td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> Milestone 6 </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 11/22/2010 </td> 
         <td class="confluenceTd"> Hard code freeze (HCF), Zero P1-P3 bug count </td> 
        </tr> 
       </tbody>
      </table> 
     </div> <h4><a name="Metro2.1UnifiedConfig-TaskList"></a>Task List</h3> <p><a href="3.1Metro.html#3.1Metro-3.1MetroTaskList">Summary for GlassFish 3.1 </a></p> 
     <div class="table-wrap"> 
      <table class="confluenceTable">
       <tbody> 
        <tr> 
         <th class="confluenceTh"> Task </th> 
         <th class="confluenceTh"> Target Milestone </th> 
         <th class="confluenceTh"> Start </th> 
         <th class="confluenceTh"> End Date </th> 
         <th class="confluenceTh"> Status / Comments </th> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td1">Parse metro-webservices.xml </a> </td> 
         <td class="confluenceTd"> MS4 </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 8/2 </td> 
         <td class="confluenceTd"> Done </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td3">SPI to Allow Addition of New Elements to metro-webservices.xml </a> </td> 
         <td class="confluenceTd"> MS4 </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 8/6 </td> 
         <td class="confluenceTd"> Done </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td2">Provide Configuration as WebServiceFeatures </a> </td> 
         <td class="confluenceTd"> MS5 </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 8/27 </td> 
         <td class="confluenceTd"> In progress </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td4">Parse webservices.xml </a> </td> 
         <td class="confluenceTd"> MS5 </td> 
         <td class="confluenceTd"> 8/13 </td> 
         <td class="confluenceTd"> 8/27 </td> 
         <td class="confluenceTd"> In progress </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td5">Enforce Order of Precedence When Initializing WebServiceFeatures </a> </td> 
         <td class="confluenceTd"> MS5 </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd"> 9/3 </td> 
         <td class="confluenceTd">&nbsp;</td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td6">Migrate metro.xml Into metro-webservices.xml </a> </td> 
         <td class="confluenceTd"> MS5 </td> 
         <td class="confluenceTd"> 8/27 </td> 
         <td class="confluenceTd"> 8/31 </td> 
         <td class="confluenceTd">&nbsp;</td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td7">Migrate WSIT Config Files Into metro-webservices.xml </a> </td> 
         <td class="confluenceTd"> MS5 </td> 
         <td class="confluenceTd"> 9/1 </td> 
         <td class="confluenceTd"> 9/16 </td> 
         <td class="confluenceTd">&nbsp;</td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td8">Use WebServiceFeatures </a> </td> 
         <td class="confluenceTd"> MS5 </td> 
         <td class="confluenceTd"> 8/27 </td> 
         <td class="confluenceTd"> 9/16 </td> 
         <td class="confluenceTd">&nbsp;</td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td9">Later: Migrate JAX-WS RI Config Files into metro-webservices.xml </a> </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd">&nbsp;</td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> <a href="#Metro2.1UnifiedConfig-td10">Later: Change JAX-WS RI to Generate New WS-Policies in WSDL </a> </td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd">&nbsp;</td> 
         <td class="confluenceTd">&nbsp;</td> 
        </tr> 
       </tbody>
      </table> 
     </div> <h4><a name="Metro2.1UnifiedConfig-TaskDescription"></a>Task Description</h3> <h4><a name="Metro2.1UnifiedConfig-Parsemetrowebservices.xml"></a><a name="Metro2.1UnifiedConfig-td1"></a> Parse metro-webservices.xml</h4> 
     <ul> 
      <li>Implement parsing code using StAX. JAXB is not an option because the schema should be easily extensible (see also <a href="#Metro2.1UnifiedConfig-td3">SPI to Allow Addition of New Elements to metro-webservices.xml </a>).</li> 
      <li>Use a RelaxNG schema to validate the document. A XML schema can be generated automatically from RelaxNG using Trang.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-ProvideConfigurationasWebServiceFeatures"></a><a name="Metro2.1UnifiedConfig-td2"></a> Provide Configuration as WebServiceFeatures</h4> 
     <ul> 
      <li>Translate configuration elements into WebServiceFeatures.</li> 
      <li>Introduce WebServiceFeatures that can be assigned to operations and messages. Currently, WebServiceFeatures are designed for an entire port/endpoint.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-SPItoAllowAdditionofNewElementstometrowebservices.xml"></a><a name="Metro2.1UnifiedConfig-td3"></a> SPI to Allow Addition of New Elements to metro-webservices.xml</h4> 
     <ul> 
      <li>Both for internal development and eventually for external developers extending the Metro implementation, it is impractical to hardwire all the configuration settings in metro-webservices.xml. It should be possible to add new code to handle new settings using the META-INF service lookup mechanism.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-Parsewebservices.xml"></a><a name="Metro2.1UnifiedConfig-td4"></a> Parse webservices.xml</h4> 
     <ul> 
      <li>Even in non-JSR 109 deployments, we want to allow the use of webservices.xml. This way we don't have to duplicate settings in metro-webservices.xml. It still needs to be investigated if we can copy or reuse code from GlassFish. If we have to write our own code, we could parse using StAX or JAXB. The webservices.xml schema is fixed and we don't need to provide an extension mechanism.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-EnforceOrderofPrecedenceWhenInitializingWebServiceFeatures"></a><a name="Metro2.1UnifiedConfig-td5"></a> Enforce Order of Precedence When Initializing WebServiceFeatures</h4> 
     <ul> 
      <li>metro-webservices.xml takes precedence over other configuration files. This precedence does not necessarily need to be expressed in the API but the implementation must enforce it without having to add new code when new configuration settings are added.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-Migratemetro.xmlIntometrowebservices.xml"></a><a name="Metro2.1UnifiedConfig-td6"></a> Migrate metro.xml Into metro-webservices.xml</h4> 
     <ul> 
      <li>metro-webservices.xml will incorporate the tubeline settings that are now done through metro.xml.</li> 
      <li>metro.xml must be ignored when metro-webservices.xml is present.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-MigrateWSITConfigFilesIntometrowebservices.xml"></a><a name="Metro2.1UnifiedConfig-td7"></a> Migrate WSIT Config Files Into metro-webservices.xml</h4> 
     <ul> 
      <li>metro-webservices.xml will incorporate the settings that are now done through WS-Policies in wsit-&lt;endpoint&gt;.xml, wsit-client.xml and WSDL.</li> 
      <li>The WSIT WS-Policies must be ignored when metro-webservices.xml is present.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-UseWebServiceFeatures"></a><a name="Metro2.1UnifiedConfig-td8"></a> Use WebServiceFeatures</h4> 
     <ul> 
      <li>WSIT relies mostly on the PolicyMap for the configuration of its features. Where feasible, the WSIT module implementations should use the corresponding WebServiceFeatures instead. The security policy module will for now still rely on WS-Policy since changing that layer would be too much work.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-MigrateJAXWSRIConfigFilesintometrowebservices.xml"></a><a name="Metro2.1UnifiedConfig-td9"></a> Migrate JAX-WS RI Config Files into metro-webservices.xml</h4> 
     <ul> 
      <li>sun-jaxws.xml shall be superseded by metro-webservices.xml.</li> 
     </ul> <h4><a name="Metro2.1UnifiedConfig-ChangeJAXWSRItoGenerateNewWSPoliciesinWSDL"></a><a name="Metro2.1UnifiedConfig-td10"></a> Change JAX-WS RI to Generate New WS-Policies in WSDL</h4> 
     <ul> 
      <li>Right now, JAX-WS tries to publish WSDL as is (with a few necessary adjustments like the port address and removal of private policies). We want to change that so that the WSDL published by JAX-WS always contains the policies that reflect the internal configuration state.</li> 
     </ul> </td> 
   </tr> 
  </tbody>
 </table>    
</body></div>
        <br/>

        <!-- footer================================================== -->
        <footer class="well">
            <div class="container">

                <div class="row-fluid" id="bottom-info">
                    <!--div class="span6 pagination-centered" id="social"-->
                    <div class="span4" id="social">			
                        <a href="http://blogs.oracle.com/theaquarium/"><img src="../images/icons/TheAquarium.png"></a>
                        <a href="https://twitter.com/glassfish"><img src="../images/icons/twitter.png"></a>
                        <a href="https://plus.google.com/communities/106098646151660933759"><img src="../images/icons/google.png"></a>
                        <a href="http://www.linkedin.com/groups/GlassFish-Users-106819/about"><img src="../images/icons/linkedin.png"></a>
                        <a href="http://www.youtube.com/user/GlassFishVideos"><img src="../images/icons/youtube.png"></a>
                        <a href="https://www.facebook.com/GlassFish"><img src="../images/icons/facebook.png"></a>
                    </div>

                    <div class="span8" id="copyright">Page last changed on Aug 18, 2010 by 
<font color="#0050B2">ritzmann</font>. Exported from wikis.oracle.com on May 27, 2015 20:45.<br/>
                        Copyright &copy; 2005-2015 Oracle Corporation and/or its affiliates.</div>
                </div>
            </div>
        </footer>

        <!-- ================================================== -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/bootstrap-tab.js"></script>
	<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<!--  Begin SiteCatalyst code  -->
  	<!--  End SiteCatalyst code  -->
    </body>
</html>