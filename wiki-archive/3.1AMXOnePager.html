<!DOCTYPE html>
<html  xml:lang="en" lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>GlassFish Wiki : 3.1AMXOnePager</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="" />
        <meta http-equiv="content-language" content="en" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css" rel="stylesheet" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
        <link href="styles/docs.css" rel="stylesheet" />
        <link href="styles/site1.css" rel="stylesheet" />
        <style> a { color: #555555; } </style>
        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
                <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body class="page-documentation project-gfmvnsite" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <div class="brand"><a href="/glassfish/index.html"><img src="../images/gflogo24.png"><span style="color:#E88A43;font-size:18px;padding-left:11px;padding-top:15px;font-weight:bold;">GlassFish</span> - <span style="font-size:18px;" class="gf-grey">World's first Java EE 7 Application Server</span></a></div>
                    <div class="nav-collapse">
                        <ul class="nav pull-right">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
									<li><a href="/glassfish/LICENSE" title="License">Legal </a></li>
									<li><a href="/glassfish/CONTRIBUTING" title="Contributing">Contributing </a></li>
                                </ul>
                            </li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>

        <br/><br/>
        <div class="container"><body> 
 <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff"> 
  <tbody>
   <tr> 
    <td valign="top" class="pagebody">   <h4><a name="3.1AMXOnePager-GlassFishServerOpenSourceEdition3.1AMXOnePager"></a>GlassFish Server Open Source Edition 3.1 - AMX One Pager</h1> <h4><a name="3.1AMXOnePager-1.Introduction"></a>1. Introduction</h1> <h4><a name="3.1AMXOnePager-1.1.Project%2FComponentWorkingName%3A"></a>1.1. Project/Component Working Name:</h2> <p>AMX ( Application server Management eXtensions )</p> <h4><a name="3.1AMXOnePager-1.2.Name%28s%29andemailaddressofDocumentAuthor%28s%29%2FSupplier%3A"></a>1.2. Name(s) and e-mail address of Document Author(s)/Supplier:</h2> <p>Prasad Subramanian : prasad.subramanian@sun.com</p> <h4><a name="3.1AMXOnePager-1.3.DateofThisDocument%3A"></a>1.3. Date of This Document:</h2> <p>05/24/2010</p> <h4><a name="3.1AMXOnePager-2.ProjectSummary"></a>2. Project Summary</h1> <h4><a name="3.1AMXOnePager-2.1.ProjectDescription%3A"></a>2.1. Project Description:</h2> <p>This component deals with JMX support for managing and monitoring modules, services and applications in the GlassFish Application Server. This component also includes the support JSR 77.</p> <p>See below for a longer, more detailed technical description.</p> <h4><a name="3.1AMXOnePager-2.2.RisksandAssumptions%3A"></a>2.2. Risks and Assumptions:</h2> <p>Clustering infrastructure is new and hence the AMX support for clustering is dependent on the stability of the infrastructure.</p> <h4><a name="3.1AMXOnePager-3.ProblemSummary"></a>3. Problem Summary</h1> <h4><a name="3.1AMXOnePager-3.1.ProblemArea%3A"></a>3.1. Problem Area:</h2> <p>JMX provides an interface to manage and monitor components within an application server using third party ( remote ) clients. It provides the ability to create custom management tools for customers. JSR 77 standardizes the manageable objects in a Java EE compliant Application Server. AMX is a GlassFish specific API which provides a simpler JMX based interface to manage and monitor the Application Server specific components.</p> <h4><a name="3.1AMXOnePager-3.2.Justification%3A"></a>3.2. Justification:</h2> <p>We need to provide customers who wish to use JMX to manage and monitor the Application Server , a standard supported mechanism of doing so, the basis of which they could design their remote management clients.</p> <h4><a name="3.1AMXOnePager-4.TechnicalDescription%3A"></a>4. Technical Description:</h1> <h4><a name="3.1AMXOnePager-4.1.Details%3A"></a>4.1. Details:</h2> <p>AMX support is carried on from GlassFish v3.0 and the additional work to be done for this release is as follows :</p> 
     <ol> 
      <li>Support for AMX in the clustered setup</li> 
      <li>Extending support for JSR77 in a clustered setup</li> 
      <li>Reduction of the number of JARs for AMX</li> 
      <li>SSL support for JMX connectors.</li> 
     </ol> <p>AMX underwent considerable change in GlassFishv3 , with the use of AMX SPI to make it extensible and provide modules being added , the ability to add AMX Mbeans of their own. The same SPI shall be used to extend the AMX support.</p> <h4><a name="3.1AMXOnePager-4.1.1.SupportforAMXinacluster"></a>4.1.1. Support for AMX in a cluster</h4> <p>AMX support in a cluster can be broadly defined into two parts</p> <h5><a name="3.1AMXOnePager-4.1.1.1.Management"></a>4.1.1.1. Management</h5> <h5><a name="3.1AMXOnePager-ConfigBeans"></a>Config Beans</h5> <p>An application server instance is managed by the AMX interfaces that map to Config Beans. There are additional config beans that would be introduced to support a cluster profile. These additional config beans added / enhanced would need to have corresponding AMX interfaces.&nbsp; There are AMX interfaces for the cluster, cluster-ref, GMS elements. The plan is to track the changes to the config beans and update the AMX interfaces.</p> <h5><a name="3.1AMXOnePager-ReadingandSettingconfigvalues"></a>Reading and Setting config values</h5> <p>AMX can be used to read the values from the configuration ( domain.xml)&nbsp; or to set a particular value to a config. In a cluster setup ,the user would connect to the DAS or a specific remote instance to read the values. In case of a value being set, the user would have to set the value in the Domain Administration Server ( DAS) and then effect a cluster restart to propogate the set value to all the instances in the cluster, via the synchronization that takes place during a cluster restart.</p> <h5><a name="3.1AMXOnePager-4.1.1.2Monitoring"></a>4.1.1.2 Monitoring</h5> <p>The user would have to connect to the individual instances's JMX port to read the monitoring data ( which would at a per instance level). There is no plan to provide a collated monitoring data at the cluster level via AMX. The monitoring dev tests / QE tests would have to be run at an instance level to check if there is any anomaly.</p> <h4><a name="3.1AMXOnePager-4.1.2ExtendingsupportforJSR77inacluster"></a>4.1.2 Extending support for JSR77 in a cluster</h4> <p>As per the JSR 77 specification there are no special requirements that would need to be met for a clustered setup. Hence its expected that the JSR 77 implementation in a single instance should work in remote instances. Broadly this can be classified into</p> 
     <ul> 
      <li>Creation of JSR77 MBeans for Server J2EEApplication and J2EEModule in remote instances. This would be done lazily as is done in a single instance</li> 
      <li>Ability to manipulate applications ( enable/disable) on a remote instance. This would have be done by connecting to a remote instance directly using a JMX client.</li> 
      <li>Ability to collect Statistics from remote instances by connecting to these instances directly.</li> 
     </ul> <p><font color="#ff0000"><em>Open Issue : How do we manipulateJ2EEResource objects in a cluster ? Do we manage them per instance or from the DAS and then use synchronization to propagate the changes ?</em></font></p> 
     <ul> 
      <li>MEJB&nbsp; The MEJB would have to be loaded in each instance of the cluster and then accessed directly.</li> 
     </ul> <h4><a name="3.1AMXOnePager-4.1.3.ReductionofthenumberofJarfilesforAMX"></a>4.1.3. Reduction of the number of Jar files for AMX</h4> <p>Currently there are multiple jar files that the AMX interfaces and classes are delivered in. However a point to be considered here is that all these are downloaded and loaded into the VM at runtime at the same time. In effect we are not achieving any additional modularity by keeping these classes files in separate jars. Hence an attempt will be made to merge the following 7 jars into a single jar</p> 
     <ol> 
      <li>amx-core.jar</li> 
      <li>amx-core-impl.jar</li> 
      <li>amx-config.jar</li> 
      <li>amx-config-impl.jar</li> 
      <li>amx-j2ee.jar</li> 
      <li>amx-j2ee-impl.jar</li> 
      <li>amx-ext-impl.jar</li> 
     </ol> <h4><a name="3.1AMXOnePager-4.1.4.SSLsupportforJMXconnectors"></a>4.1.4. SSL support for JMX connectors</h4> <p>With the introduction of cluster support for GlassFish, we need to provide a secure mechanism for remote JMX clients to connect to instances. Hence JMX connectors would need to support TLS/SSL. This support would be provided for both RMI-JRMP and JMXMP protocols.</p> <p>Note : SSL support is planned only for connectors acting as Server.</p> <h4><a name="3.1AMXOnePager-4.2.Bug%2FRFENumber%28s%29%3A"></a>4.2. Bug/RFE Number(s):</h2> <p>All P1, P2 and P3 issues.</p> <h4><a name="3.1AMXOnePager-4.3.InScope%3A"></a>4.3. In Scope:</h2> <p>Same as in section 4.1</p> <h4><a name="3.1AMXOnePager-4.4.OutofScope%3A"></a>4.4. Out of Scope:</h2> 
     <ul> 
      <li>Addition of new AMX support in a single instance setup.</li> 
     </ul> <h4><a name="3.1AMXOnePager-4.5.Interfaces%3A"></a>4.5. Interfaces:</h2> <p>Interfaces may be commands, files, directory structure, ports,<br> DTD/Schema, tools, APIs, CLIs, etc.<br> Note: In lieu of listing the interfaces in the one pager, providing<br> a link to another specification which defines the interfaces<br> is acceptable.</p> <h4><a name="3.1AMXOnePager-4.5.1PublicInterfaces"></a>4.5.1 Public Interfaces</h3> <p>List new, public interfaces this project exports.</p> <p>There are no new interfaces that this project plans to export. The same interfaces exported by the AMX in GlassFish v3 will be supported.</p> <h4><a name="3.1AMXOnePager-4.5.2PrivateInterfaces"></a>4.5.2 Private Interfaces</h3> <p>List private interfaces which are externally observable.</p> <p>There are no new interfaces that this project plans to export. The same interfaces exported by the AMX in GlassFish v3 will be supported.</p> <h4><a name="3.1AMXOnePager-4.5.3Deprecated%2FRemovedInterfaces%3A"></a>4.5.3 Deprecated/Removed Interfaces:</h3> <p>List existing public interfaces which will be deprecated or<br> removed by this project.</p> <p>There are no interfaces that are planned to be deprecated.</p> <h4><a name="3.1AMXOnePager-4.6.DocImpact%3A"></a>4.6. Doc Impact:</h2> <p>Additional AMX APIs would have to be documented.</p> <p>Migration path from AMX in GlassFish v2 to AMX in GlassFish v3 would need to be documented.</p> <p>Migration path from AMX in GlassFish v2 to REST based management would need to be documented.</p> <h4><a name="3.1AMXOnePager-4.7.Admin%2FConfigImpact%3A"></a>4.7. Admin/Config Impact:</h2> <p>No change is expected.</p> <h4><a name="3.1AMXOnePager-4.8.HAImpact%3A"></a>4.8. HA Impact:</h2> <p>None.</p> <h4><a name="3.1AMXOnePager-4.9.I18N%2FL10NImpact%3A"></a>4.9. I18N/L10N Impact:</h2> <p>I18N support for error messages from the AMX beans.</p> <h4><a name="3.1AMXOnePager-4.10.Packaging%2CDelivery%26Upgrade%3A"></a>4.10. Packaging, Delivery &amp; Upgrade:</h2> <h4><a name="3.1AMXOnePager-4.10.1.Packaging"></a>4.10.1. Packaging</h3> 
     <ul> 
      <li>The APIs and it implementation would be delivered as a part of the amx-all.jar</li> 
     </ul> <h4><a name="3.1AMXOnePager-4.10.2.Delivery"></a>4.10.2. Delivery</h3> <p>None.</p> <h4><a name="3.1AMXOnePager-4.10.3.UpgradeandMigration%3A"></a>4.10.3. Upgrade and Migration:</h3> 
     <ul> 
      <li>If upgrading from GlassFish v3, then there is no impact.</li> 
      <li>If upgrading from GlassFish v2.x then the AMX APIs are non-compatible. Hence the users would need to change their framework according to the new APIs introduced in GlassFish v3.</li> 
     </ul> <h4><a name="3.1AMXOnePager-4.11.SecurityImpact%3A"></a>4.11. Security Impact:</h2> <p>None.</p> <h4><a name="3.1AMXOnePager-4.12.CompatibilityImpact"></a>4.12. Compatibility Impact</h2> 
     <ul> 
      <li>The API has changed significantly from the APIs in GlassFish v2.x and the main point of change are documented <a href="https://glassfish.java.net/nonav/v3/admin/planning/V3Changes/V3_AMX.html">here</a></li> 
     </ul> <p>Since the changes in the API will affect the clients, the upgrade and migration tool should have no impact.</p> <h4><a name="3.1AMXOnePager-4.13.Dependencies%3A"></a>4.13. Dependencies:</h2> <h4><a name="3.1AMXOnePager-4.13.1InternalDependencies"></a>4.13.1 Internal Dependencies</h3> 
     <ul> 
      <li>Dependent on the clustering infrastructure.</li> 
     </ul> <h4><a name="3.1AMXOnePager-4.13.2ExternalDependencies"></a>4.13.2 External Dependencies</h3> 
     <ul> 
      <li>None.</li> 
     </ul> <h4><a name="3.1AMXOnePager-4.14.TestingImpact%3A"></a>4.14. Testing Impact:</h2> 
     <ul> 
      <li>Existing tests from GlassFish v3 can be used for regression testing.</li> 
      <li>New tests using the existing ( or slightly modified) framework would need to be developed for testing the clustering support for AMX and JSR 77.</li> 
     </ul> <h4><a name="3.1AMXOnePager-5.ReferenceDocuments%3A"></a>5. Reference Documents:</h1> 
     <ul> 
      <li>AMX in GlassFish v3 <a href="https://glassfish.java.net/nonav/v3/admin/planning/V3Changes/V3_AMX.html">doc</a></li> 
      <li>AMX SPI <a href="https://glassfish.java.net/nonav/v3/admin/planning/V3Changes/V3_AMX_SPI.html">doc</a></li> 
      <li>Gmbal specification <a href="https://glassfish.java.net/nonav/v3/admin/planning/V3Changes/GmbalFunctionalSpec.html">doc</a></li> 
      <li>JSR 77 <a href="http://jcp.org/en/jsr/detail-77">spec</a></li> 
      <li>Clustering one pager <a href="V3.1ClusteringInfraOnePager.html" title="V3.1ClusteringInfraOnePager">doc</a></li> 
     </ul> <h4><a name="3.1AMXOnePager-6.Schedule%3A"></a>6. Schedule:</h1> <h4><a name="3.1AMXOnePager-6.1.ProjectedAvailability%3A"></a>6.1. Projected Availability:</h2> <p>Indicate which milestones from the current schedule the project<br> will be:</p> 
     <div class="table-wrap"> 
      <table class="confluenceTable">
       <tbody> 
        <tr> 
         <th class="confluenceTh"> Milestone </th> 
         <th class="confluenceTh"> Task </th> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> MS1 </td> 
         <td class="confluenceTd"> One Pager </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> MS3 <br class="atl-forced-newline"> </td> 
         <td class="confluenceTd"> Consolidation of Jars <br class="atl-forced-newline"> </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> MS4 </td> 
         <td class="confluenceTd"> JSR 77 support in a cluster , SSL support for JMX listeners <br class="atl-forced-newline"> </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> MS5 </td> 
         <td class="confluenceTd"> AMX support for clustering </td> 
        </tr> 
        <tr> 
         <td class="confluenceTd"> HCF </td> 
         <td class="confluenceTd"> Production Ready </td> 
        </tr> 
       </tbody>
      </table> 
     </div> 
     <ul> 
      <li>To get more granular updates about the delivery , please refer to milestone schedule <a href="3.1JMX.html#3.1JMX-section3.1JMXMilestoneSchedule">here</a></li> 
     </ul> 
     <hr> </td> 
   </tr> 
  </tbody>
 </table>    
</body></div>
        <br/>

        <!-- footer================================================== -->
        <footer class="well">
            <div class="container">

                <div class="row-fluid" id="bottom-info">
                    <!--div class="span6 pagination-centered" id="social"-->
                    <div class="span4" id="social">			
                        <a href="http://blogs.oracle.com/theaquarium/"><img src="../images/icons/TheAquarium.png"></a>
                        <a href="https://twitter.com/glassfish"><img src="../images/icons/twitter.png"></a>
                        <a href="https://plus.google.com/communities/106098646151660933759"><img src="../images/icons/google.png"></a>
                        <a href="http://www.linkedin.com/groups/GlassFish-Users-106819/about"><img src="../images/icons/linkedin.png"></a>
                        <a href="http://www.youtube.com/user/GlassFishVideos"><img src="../images/icons/youtube.png"></a>
                        <a href="https://www.facebook.com/GlassFish"><img src="../images/icons/facebook.png"></a>
                    </div>

                    <div class="span8" id="copyright">Page last changed on Aug 03, 2010 by 
<font color="#0050B2">prasads</font>. Exported from wikis.oracle.com on May 27, 2015 20:47.<br/>
                        Copyright &copy; 2005-2015 Oracle Corporation and/or its affiliates.</div>
                </div>
            </div>
        </footer>

        <!-- ================================================== -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/bootstrap-tab.js"></script>
	<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<!--  Begin SiteCatalyst code  -->
  	<!--  End SiteCatalyst code  -->
    </body>
</html>