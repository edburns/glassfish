<!DOCTYPE html>
<html  xml:lang="en" lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>GlassFish Wiki : V3OverviewFunctionalSpec</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="" />
        <meta http-equiv="content-language" content="en" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css" rel="stylesheet" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
        <link href="styles/docs.css" rel="stylesheet" />
        <link href="styles/site1.css" rel="stylesheet" />
        <style> a { color: #555555; } </style>
        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
                <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body class="page-documentation project-gfmvnsite" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <div class="brand"><a href="/glassfish/index.html"><img src="../images/gflogo24.png"><span style="color:#E88A43;font-size:18px;padding-left:11px;padding-top:15px;font-weight:bold;">GlassFish</span> - <span style="font-size:18px;" class="gf-grey">World's first Java EE 7 Application Server</span></a></div>
                    <div class="nav-collapse">
                        <ul class="nav pull-right">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
									<li><a href="/glassfish/LICENSE" title="License">Legal </a></li>
									<li><a href="/glassfish/CONTRIBUTING" title="Contributing">Contributing </a></li>
                                </ul>
                            </li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>

        <br/><br/>
        <div class="container"><body> 
 <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff"> 
  <tbody>
   <tr> 
    <td valign="top" class="pagebody">   <p>[</p> 
     <div class="error">
      <span class="error">Unknown macro: {TableOfContents title=' '}</span> 
     </div> <p>|(TableOfContentstitle='')]</p> <h4><a name="V3OverviewFunctionalSpec-1.Introduction"></a>1. Introduction</h1> <h4><a name="V3OverviewFunctionalSpec-1.1.Project%2FComponentWorkingName%3A"></a>1.1. Project/Component Working Name:</h2> <p>GlassFish V3 Overview Functional Spec</p> <h4><a name="V3OverviewFunctionalSpec-1.2.Name%28s%29andemailaddressofDocumentAuthor%28s%29%2FSupplier%3A"></a>1.2. Name(s) and e-mail address of Document Author(s)/Supplier:</h2> <p>Jerome Dochez<br> jerome.dochez@sun.com<br> x17062</p> <h4><a name="V3OverviewFunctionalSpec-1.3.DateofThisDocument%3A"></a>1.3. Date of This Document:</h2> <p>06/19/08</p> <h4><a name="V3OverviewFunctionalSpec-2.ProjectSummary"></a>2. Project Summary</h1> <h4><a name="V3OverviewFunctionalSpec-2.1.ProjectDescription%3A"></a>2.1. Project Description:</h2> <p>GlassFish V3 is the next version of Sun's Java EE application server. The new features of this release are modularity, extensibility and embeddability.</p> <h4><a name="V3OverviewFunctionalSpec-2.2.RisksandAssumptions%3A"></a>2.2. Risks and Assumptions:</h2> <p>The biggest risk associated with this release is modularity. Previous versions of the application server were a monolithic implementation of all the features making upgradability of one particular feature almost impossible to achieve. In GlassFish V3, we switched to a modular environment where each module represent a small set of functionally close features. Transforming our monolithic implementation into a set of modules and delivering the entire GlassFish features list as a consistent set of modules interacting with each other is non trivial and will require extensive rework or rewrite of our implementation.</p> <h4><a name="V3OverviewFunctionalSpec-3.ProblemSummary"></a>3. Problem Summary</h1> <h4><a name="V3OverviewFunctionalSpec-3.1.ProblemArea%3A"></a>3.1. Problem Area:</h2> <p>The new landscape of server side Java is forcing us in being more open to external technologies than traditional Java EE stack. We have repeatedly heard calls that we needed to offer more choice of technologies as well as provide a slim infrastructure to build a dedicated stack that corresponds to a particular problem area.</p> <p>We have started seeing a proliferation of scripting solutions coupled with web centric frameworks available on the Java Virtual Machine. However most of these solutions are very developer centric and very little effort has been spent on deployment features. This is a market opportunity for GlassFish to offer these deployment features while respecting the container's original development environment.</p> <h4><a name="V3OverviewFunctionalSpec-3.2.Justification%3A"></a>3.2. Justification:</h2> <p>Traditional Java EE application servers can provide a wealth of experience to deployment scenario with clustering and replication, there is a real growth opportunity to untraditional users by providing features to community outside of our traditional Java EE followers.</p> <h4><a name="V3OverviewFunctionalSpec-4.TechnicalDescription%3A"></a>4. Technical Description:</h1> <h4><a name="V3OverviewFunctionalSpec-4.1.Details%3A"></a>4.1. Details:</h2> <p>In order to facilitate and mitigate the risks associated with modularization, the project will use industry standard components to build or run GlassFish V3 :</p> <h4><a name="V3OverviewFunctionalSpec-Maven2"></a>Maven 2</h3> <p>Previous versions of GlassFish were built using a combination of ant, maven 1 and shell scripts. Technically difficult to understand and maintain, we will use maven 2 to facilitate the development of modules. Maven pom.xml naturally match modular development where each project describes the dependencies it uses and such metadata can be used at build time to generate the rather obscure OSGi metadata.</p> <p>more details at <a href="http://maven.apache.org">http://maven.apache.org</a></p> <h4><a name="V3OverviewFunctionalSpec-APTandMavenplugins"></a>APT and Maven plugins</h3> <p>A number of APT and maven plugins have been use to facilitate the service based architecture description.</p> <h4><a name="V3OverviewFunctionalSpec-OSGi"></a>OSGi </h3> <p>When the industry think about modularity, one of the obvious solution that we heard over the last few years has been OSGi. GlassFish V3 will use OSGi module management subsystem as a proven solution to our modularization effort. </p> <p>more details at <a href="http://osgi.org/">http://osgi.org/</a></p> <h4><a name="V3OverviewFunctionalSpec-4.2.Bug%2FRFENumber%28s%29%3A"></a>4.2. Bug/RFE Number(s):</h2> <p>List any Bug(s)/RFE(s) which will be addressed by this proposed change.<br> Provide links to the Issue tracker Bug(s)/RFE(s)where possible</p> <h4><a name="V3OverviewFunctionalSpec-4.3.InScope%3A"></a>4.3. In Scope:</h2> <p>Aspects that are in scope of this proposal if not obvious from above.</p> <h4><a name="V3OverviewFunctionalSpec-OSGi"></a>OSGi</h2> <p>OSGi integration will require the following features implementation</p> 
     <ul> 
      <li>ability to import OSGi bundle through an administrative command</li> 
      <li>ability to import OSGi programmatically</li> 
      <li>ability to import library jar files through and administrative command</li> 
     </ul> <h4><a name="V3OverviewFunctionalSpec-Scripting"></a>Scripting</h2> <p>The following scripting environment need to be supported :</p> 
     <ul> 
      <li>JRuby packaged in a WAR file as well as natively deployed</li> 
      <li>Grails</li> 
      <li>Optional : phobos</li> 
     </ul> <h4><a name="V3OverviewFunctionalSpec-WebTier"></a>WebTier</h2> <p>The full Java EE 5 Web stack need to be implemented and successfully pass the CTS Tests associate with each technologies.</p> <h4><a name="V3OverviewFunctionalSpec-GrizzlyConfiguration"></a>Grizzly Configuration</h2> <p>In previous versions of GlassFish, the HTML request dispatching was handled within the web container, however in V3 this has been externalized since we needed a mechanism that would be container agnostic. With this externalization of the functionality, the grizzly configuration which was contained within the web container configuration need to be pushed out and be stored somewhere else in our configuration.</p> <p>The grizzly configuration should leverage or at least plug-in in the new configuration infrastructure to allow grizzly configuration to be available in situations where GlassFish is not present. </p> <h4><a name="V3OverviewFunctionalSpec-AdminGUI"></a>Admin GUI</h2> <p>Just like GlassFish, the administrative console need to be modularized to offer configuration screens based on a the current GlassFish configuration rather than a predefined set of features. </p> 
     <ul> 
      <li>Ability to define Plug-in to offer particular configuration element like a container configuration. These Plug-ins should have access to facilities used by the console like JSF Templating, jMaki to provide a nice integrated user experience.</li> 
      <li>The core administrative console should become agnostic of which containers can be configured as the set can evolve dynamically with the adding of new plugins.</li> 
      <li>Branding support should be offered where external developer should be capable of altering the console look and feel as well as the product information (name, version ,etc.)</li> 
     </ul> <h4><a name="V3OverviewFunctionalSpec-Deployment"></a>Deployment</h2> <p>Deployment need to offer the following pluggablity area : </p> 
     <ul> 
      <li>Ability to define a new archive type. Each archive type need to be treated equally by deployment backend and each existing container should be able to leverage the new Archive type if the container's components are packaged in the archive type. New archive type should also come with an associated ClassLoader (potentially augmented to support class file transformation).</li> 
     </ul> 
     <ul> 
      <li>Ability to define new archive medium. By default GlassFish supports jar based archive as well as exploded directory archives, users should be able to define new medium for archives like a memory based one, a network one or a scattered archive when elements are disparately stored on the file system.</li> 
     </ul> 
     <ul> 
      <li>Ability to plug new Engines. Engines are container for specific components. An application can potentially contain components belonging to several unrelated engines. When such applications are deployed, each engine currently installed in GlassFish should have the ability to inspect the application to discover if components targeted to itself are present. Each engine should use the same class loader so that each components have complete freedom to directly reference classes that are ultimately running in a different engines, such class loader should be obtained from the archive type handler.</li> 
     </ul> <h4><a name="V3OverviewFunctionalSpec-Monitoring"></a>Monitoring</h2> <p>Monitoring should be available though industry standard interfaces like JMX but we should offer a flexible architecture where users should be able to add or activate probes through administrative actions. These probes existence should not impact negatively the application server performance when not used. A telemetry subsystem should be available to record minimum set of monitoring data when monitoring is selectively turned on. Such data should be available through the Habitat as well as JMX, depending on customer demand, we might consider adding CLI and JAX-RS endpoints to retrieve the monitoring data.</p> <h4><a name="V3OverviewFunctionalSpec-Pluggability%2FExtensibility"></a>Pluggability / Extensibility </h2> <p>The following features of GlassFish are extensible : </p> 
     <ul> 
      <li>Administration console through JSF plugins</li> 
      <li>Administration Command Line interface commands</li> 
      <li>Configuration</li> 
      <li>Containers (ability to run new types of applications)</li> 
      <li>Deployment (new archive types, new class loader implementations, new annotation processors)</li> 
     </ul> <h4><a name="V3OverviewFunctionalSpec-RESTInterfaceforAdministration"></a>REST Interface for Administration</h2> <p>In the previous releases, the only programatic interface to GlassFish administration and configuration was the AMX interfaces. In V3, we would like to add the following supported interfaces to our programatic capabilities : </p> 
     <ul> 
      <li>Simple REST style like HTTP Forms invocation style</li> 
      <li>REST interfaces based on JAX-RS will be considered if there is customer demand.</li> 
     </ul> <h4><a name="V3OverviewFunctionalSpec-AdminInfrastructure"></a>Admin Infrastructure</h2> <p>Since we are transforming GlassFish into an extensible server side environment, we need to following features to be available :</p> 
     <ul> 
      <li>Command Line Interface</li> 
     </ul> <p>The CLI infrastructure should allow for several types of clients (HTTP, JMX...) with a simple REST Style interface to lower the bar of entry for external tools to interact with administrative commands. Administrative commands should be fully extensible where external users should be able to add new commands very easily. GlassFish should stop relying on a predefined (or preconfigured) list of available commands but should use a lookup approach to discover available commands).</p> 
     <ul> 
      <li>Configuration</li> 
     </ul> <p>It is important for the user to see a well integrated location where GlassFish configuration is stored (ie the domain.xml), however, with the addition of containers that are maintained externally, we must offer an extensible mechanism where each container has the ability to define its configuration data and the core admin backend takes care of storing/retrieving such configuration from our centralized location.</p> <h4><a name="V3OverviewFunctionalSpec-EmbeddableGlassFish"></a>Embeddable GlassFish</h2> <p>GlassFish V3 must be embeddable in the following scenario :</p> 
     <ul> 
      <li>non modular environment : Although V3 is built to be modular and dynamic, it should be possible to run it in a single class loader environment loosing its dynamic nature yet retaining all the features available preconfigured. For maximum flexibility, a single jar should be able to be created from our build environment.</li> 
      <li>API driven configuration : users should be able to exclusively use APIs to configure the application server rather than relying on an existing well defined domain.xml</li> 
      <li>layout : users should be able to drive the embedded glassfish file layout to their specific needs, GlassFish must stop relying on predefined file locations or directory availabilities. Configuration (domain.xml) should also support URL locations on top of the usual file location.</li> 
      <li>application file layout : users should have the ability to configure where containers will find the deployment artifacts (xml files, classes, etc...).</li> 
     </ul> <h4><a name="V3OverviewFunctionalSpec-Installer%26DesktopIntegration"></a>Installer &amp; Desktop Integration</h2> <h4><a name="V3OverviewFunctionalSpec-PackagingandFileLayout%09SnjezanaSevoZenzerovic%2CKenCavanaugh"></a>Packaging and File Layout Snjezana Sevo-Zenzerovic, Ken Cavanaugh</h2> <h4><a name="V3OverviewFunctionalSpec-4.4.OutofScope%3A"></a>4.4. Out of Scope:</h2> <p>We will test V3 under a security manager, however we will not consider supporting running in a secure mode (with a security manager) a release driver.<br> We will not support an official upgrade scenario from a V1 or V2 installation into GlassFish V3 prelude. We are making all efforts that CLI and configuration remain compatible. </p> <h4><a name="V3OverviewFunctionalSpec-4.5.Interfaces%3A"></a>4.5. Interfaces:</h2> <p>Interfaces of GlassFish V3 are contained in the org.glassfih.common:glassfish-api module. </p> <h4><a name="V3OverviewFunctionalSpec-4.6.DocImpact%3A"></a>4.6. Doc Impact:</h2> <p>List any Documentation (man pages, manuals, service guides...) that will be impacted by this proposal.</p> <h4><a name="V3OverviewFunctionalSpec-4.7.Admin%2FConfigImpact%3A"></a>4.7. Admin/Config Impact:</h2> <p>Although the GUI layout might be changed to improve usability, the overall experience should be mostly unchanged. The CLI commands should also be mostly (if not all) compatible with the previous releases. One limitation due to the dynamic nature of GlassFish V3 is that all commands may not be available in certain distributions, however, if present, commands should be backward compatible.</p> <p>The domain.xml will also be backward compatible. However, because there will not be a DTD since it is now fully open and extensible, we will not apply any type of XML validation when loading.</p> <h4><a name="V3OverviewFunctionalSpec-4.8.HAImpact%3A"></a>4.8. HA Impact:</h2> <p>What new requirements does this proposal place on the High Availability or Clustering aspects of the component?</p> <h4><a name="V3OverviewFunctionalSpec-4.9.I18N%2FL10NImpact%3A"></a>4.9. I18N/L10N Impact:</h2> <p>Does this proposal impact internationalization or localization?</p> <h4><a name="V3OverviewFunctionalSpec-4.10.Packaging%26Delivery%3A"></a>4.10. Packaging &amp; Delivery:</h2> <p>What packages, clusters or metaclusters does this proposal impact? What is its impact on install/upgrade?</p> <h4><a name="V3OverviewFunctionalSpec-4.11.SecurityImpact%3A"></a>4.11. Security Impact:</h2> <p>How does this proposal interact with security-related APIs or interfaces? Does it rely on any Java policy or platform user/permissions implication? If the feature exposes any new ports, Or any similar communication points which may have security implications, note these here.</p> <h4><a name="V3OverviewFunctionalSpec-4.12.CompatibilityImpact"></a>4.12. Compatibility Impact</h2> <p>A lot of new features as well as a complete re-architecture of the product is a challenge to compatibility. However, all efforts must be spent to support backward compatibility. If a mechanism must be redesign in a incompatible manner, the new mechanism should be the default mode of operation but the old mechanism should be available at least optionally. </p> <p>In particular, APIs, or anything that can be used with scripts (CLI) must be supported unless specifically approved by CCC.</p> <p>There is no migration/upgrade tool for GlassFish V3 prelude. </p> <h4><a name="V3OverviewFunctionalSpec-4.13.Dependencies%3A"></a>4.13. Dependencies:</h2> <p>List all dependencies that this proposal has on other proposals, components or products. Include interface<br> specifics above in the interfaces section; LIST dependency component version requirements here.</p> <h4><a name="V3OverviewFunctionalSpec-5.ReferenceDocuments%3A"></a>5. Reference Documents:</h1> <p>List of related documents, if any (BugID's, RFP's, papers).</p> <p>Explain how/where to obtain the documents, and what each contains, not just their titles. </p> <h4><a name="V3OverviewFunctionalSpec-6.Schedule%3A"></a>6. Schedule:</h1> <h4><a name="V3OverviewFunctionalSpec-6.1.ProjectedAvailability%3A"></a>6.1. Projected Availability:</h2> <p>Dates in appropriate precision (quarters, years)</p> 
     <hr> </td> 
   </tr> 
  </tbody>
 </table>    
</body></div>
        <br/>

        <!-- footer================================================== -->
        <footer class="well">
            <div class="container">

                <div class="row-fluid" id="bottom-info">
                    <!--div class="span6 pagination-centered" id="social"-->
                    <div class="span4" id="social">			
                        <a href="http://blogs.oracle.com/theaquarium/"><img src="../images/icons/TheAquarium.png"></a>
                        <a href="https://twitter.com/glassfish"><img src="../images/icons/twitter.png"></a>
                        <a href="https://plus.google.com/communities/106098646151660933759"><img src="../images/icons/google.png"></a>
                        <a href="http://www.linkedin.com/groups/GlassFish-Users-106819/about"><img src="../images/icons/linkedin.png"></a>
                        <a href="http://www.youtube.com/user/GlassFishVideos"><img src="../images/icons/youtube.png"></a>
                        <a href="https://www.facebook.com/GlassFish"><img src="../images/icons/facebook.png"></a>
                    </div>

                    <div class="span8" id="copyright">Page last changed on Jul 09, 2010 by 
<font color="#0050B2">am74686</font>. Exported from wikis.oracle.com on May 27, 2015 20:48.<br/>
                        Copyright &copy; 2005-2015 Oracle Corporation and/or its affiliates.</div>
                </div>
            </div>
        </footer>

        <!-- ================================================== -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/bootstrap-tab.js"></script>
	<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<!--  Begin SiteCatalyst code  -->
  	<!--  End SiteCatalyst code  -->
    </body>
</html>