<!DOCTYPE html>
<html  xml:lang="en" lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>GlassFish Wiki : GlassFish 4.0 Deployment One Pager</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="" />
        <meta http-equiv="content-language" content="en" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap.min.css" rel="stylesheet" />
        <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
        <link href="styles/docs.css" rel="stylesheet" />
        <link href="styles/site1.css" rel="stylesheet" />
        <style> a { color: #555555; } </style>
        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
                <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body class="page-documentation project-gfmvnsite" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <div class="brand"><a href="/glassfish/index.html"><img src="../images/gflogo24.png"><span style="color:#E88A43;font-size:18px;padding-left:11px;padding-top:15px;font-weight:bold;">GlassFish</span> - <span style="font-size:18px;" class="gf-grey">World's first Java EE 7 Application Server</span></a></div>
                    <div class="nav-collapse">
                        <ul class="nav pull-right">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
									<li><a href="/glassfish/LICENSE" title="License">Legal </a></li>
									<li><a href="/glassfish/CONTRIBUTING" title="Contributing">Contributing </a></li>
                                </ul>
                            </li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>

        <br/><br/>
        <div class="container"><body> 
 <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff"> 
  <tbody>
   <tr> 
    <td valign="top" class="pagebody">   <h4><a name="GlassFish4.0DeploymentOnePager-GlassFish4.0%28JavaEE7release%29DeploymentOnePager"></a>GlassFish 4.0 (Java EE 7 release) - Deployment One Pager</h1> 
     <div> 
      <ul> 
       <li><a href="#GlassFish4.0DeploymentOnePager-GlassFish4.0%28JavaEE7release%29DeploymentOnePager">GlassFish 4.0 (Java EE 7 release) - Deployment One Pager</a></li> 
       <li><a href="#GlassFish4.0DeploymentOnePager-1.Introduction">1. Introduction</a></li> 
       <ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-1.1.Project%2FComponentWorkingName%3A">1.1. Project/Component Working Name:</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-1.2.Name%28s%29andemailaddressofDocumentAuthor%28s%29%2FSupplier%3A">1.2. Name(s) and e-mail address of Document Author(s)/Supplier:</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-1.3.DateofThisDocument%3A">1.3. Date of This Document:</a></li> 
       </ul> 
       <li><a href="#GlassFish4.0DeploymentOnePager-2.ProjectSummary">2. Project Summary</a></li> 
       <ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-2.1.ProjectDescription%3A">2.1. Project Description:</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-2.2.RisksandAssumptions%3A">2.2. Risks and Assumptions:</a></li> 
       </ul> 
       <li><a href="#GlassFish4.0DeploymentOnePager-3.ProblemSummary">3. Problem Summary</a></li> 
       <ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-3.1.ProblemArea%3A">3.1. Problem Area:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-JavaEE7Requirements">Java EE 7 Requirements</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-DeploymentOrder">Deployment Order</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-3.2.Justification%3A">3.2. Justification:</a></li> 
       </ul> 
       <li><a href="#GlassFish4.0DeploymentOnePager-4.TechnicalDescription%3A">4. Technical Description:</a></li> 
       <ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.1.Details%3A">4.1. Details:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-JavaEE7Requirements">Java EE 7 Requirements</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-DeploymentOrder">Deployment Order</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.2.Bug%2FRFENumber%28s%29%3A">4.2. Bug/RFE Number(s):</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.3.InScope%3A">4.3. In Scope:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-DeploymentOrder">Deployment Order</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.4.OutofScope%3A">4.4. Out of Scope:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-DeploymentOrder">Deployment Order</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.5.Interfaces%3A">4.5. Interfaces:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.5.1PublicInterfaces">4.5.1 Public Interfaces</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.5.2PrivateInterfaces">4.5.2 Private Interfaces</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.5.3Deprecated%2FRemovedInterfaces%3A">4.5.3 Deprecated/Removed Interfaces:</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.6.DocImpact%3A">4.6. Doc Impact:</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.7.Admin%2FConfigImpact%3A">4.7. Admin/Config Impact:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-CLI">CLI</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-GUI">GUI</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.8.HAImpact%3A">4.8. HA Impact:</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.9.I18N%2FL10NImpact%3A">4.9. I18N/L10N Impact:</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.10.Packaging%2CDelivery%26Upgrade%3A">4.10. Packaging, Delivery &amp; Upgrade:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.10.1.Packaging">4.10.1. Packaging</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.10.2.Delivery">4.10.2. Delivery</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.10.3.UpgradeandMigration%3A">4.10.3. Upgrade and Migration:</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.11.SecurityImpact%3A">4.11. Security Impact:</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.12.CompatibilityImpact">4.12. Compatibility Impact</a></li> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.13.Dependencies%3A">4.13. Dependencies:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.13.1InternalDependencies">4.13.1 Internal Dependencies</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-4.13.2ExternalDependencies">4.13.2 External Dependencies</a></li> 
        </ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-4.14.TestingImpact%3A">4.14. Testing Impact:</a></li> 
       </ul> 
       <li><a href="#GlassFish4.0DeploymentOnePager-5.ReferenceDocuments%3A">5. Reference Documents:</a></li> 
       <ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-References">References</a></li> 
       </ul> 
       <li><a href="#GlassFish4.0DeploymentOnePager-6.Schedule%3A">6. Schedule:</a></li> 
       <ul> 
        <li><a href="#GlassFish4.0DeploymentOnePager-6.1.ProjectedAvailability%3A">6.1. Projected Availability:</a></li> 
        <ul> 
         <li><a href="#GlassFish4.0DeploymentOnePager-JavaEE7Requirements">Java EE 7 Requirements</a></li> 
         <li><a href="#GlassFish4.0DeploymentOnePager-DeploymentOrder">Deployment Order</a></li> 
        </ul> 
       </ul> 
      </ul>
     </div> <h4><a name="GlassFish4.0DeploymentOnePager-1.Introduction"></a>1. Introduction</h1> <h4><a name="GlassFish4.0DeploymentOnePager-1.1.Project%2FComponentWorkingName%3A"></a>1.1. Project/Component Working Name:</h2> <p>GlassFish 4.0 (Java EE 7 release) Deployment</p> <h4><a name="GlassFish4.0DeploymentOnePager-1.2.Name%28s%29andemailaddressofDocumentAuthor%28s%29%2FSupplier%3A"></a>1.2. Name(s) and e-mail address of Document Author(s)/Supplier:</h2> <p>Hong Zhang : hzhang_jn@java.net<br> Gerald Ingalls: GeraldIngalls@java.net</p> <h4><a name="GlassFish4.0DeploymentOnePager-1.3.DateofThisDocument%3A"></a>1.3. Date of This Document:</h2> <p>1/30/2012</p> <h4><a name="GlassFish4.0DeploymentOnePager-2.ProjectSummary"></a>2. Project Summary</h1> <h4><a name="GlassFish4.0DeploymentOnePager-2.1.ProjectDescription%3A"></a>2.1. Project Description:</h2> <p>Some of the features described in this one pager are already covered in other one pagers. The main purpose of the document is to group all relevant contents for GlassFish 4.0 (Java EE 7 release) in one document and share with open source community.</p> 
     <ul> 
      <li>Java EE 7 Requirements</li> 
      <li>Deployment Order</li> 
     </ul> <h4><a name="GlassFish4.0DeploymentOnePager-2.2.RisksandAssumptions%3A"></a>2.2. Risks and Assumptions:</h2> <p>Late requirements from Java EE 7 spec could result in delay for the delivery of the functionality.</p> <h4><a name="GlassFish4.0DeploymentOnePager-3.ProblemSummary"></a>3. Problem Summary</h1> <h4><a name="GlassFish4.0DeploymentOnePager-3.1.ProblemArea%3A"></a>3.1. Problem Area:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-JavaEE7Requirements"></a>Java EE 7 Requirements</h3> <p>Address Java EE 7 spec requirements, most of the deployment requirements come from the Java EE 7 platform spec.</p> <h4><a name="GlassFish4.0DeploymentOnePager-DeploymentOrder"></a>Deployment Order</h3> <p>Specify a deployment order at application deployment time, and the applications will be loaded based on that order during server start up.</p> <h4><a name="GlassFish4.0DeploymentOnePager-3.2.Justification%3A"></a>3.2. Justification:</h2> <p>Make GlassFish 4.0 Java EE 7 compliant and provide ease of use developer features.</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.TechnicalDescription%3A"></a>4. Technical Description:</h1> <h4><a name="GlassFish4.0DeploymentOnePager-4.1.Details%3A"></a>4.1. Details:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-JavaEE7Requirements"></a>Java EE 7 Requirements</h3> <p>In most cases, the Java EE 7 specifications define the exact requirements and expected behavior and we will not duplicate here. One requirement that will be covered in this section is the external alternate deployment descriptor requirement.</p> <p>The <a href="http://jcp.org/en/jsr/detail-342">Java EE 7 platform specification </a>specifies that user could specify an alternate deployment descriptor external to the application package:</p> <p>"EE.8.5 Deployment<br> Any Java EE product must be able to accept a Java EE application delivered as a .ear file or a stand-alone Java EE module delivered as a .jar, .war, or .rar file (as appropriate to its type), together with an optional alternate deployment descriptor external to the application or standalone Java EE module."</p> <p>But the spec does not specify how the external deployment descriptor could be specified as it's specific to each server product. In GlassFish, an optional <tt>altdd</tt> option is added to the CLI deploy command to specify alternate deployment descriptor externally:</p> 
     <div class="preformatted panel" style="border-width: 1px;">
      <div class="preformattedContent panelContent"> 
       <pre>asadmin deploy --altdd &lt;path to alternate deployment descriptor&gt; foo.ear
</pre> 
      </div>
     </div> <p>The specified alternate deployment descriptor will override the one packaged inside the application archive if exists.</p> <p>In addition to support what is specified in the Java EE 7 platform spec, a product extension is also implemented to support the external alternate vendor specific deployment descriptor. An optional <tt>runtimealtdd</tt> option is added to the CLI deploy command to specify alternate vendor specific deployment descriptor externally:</p> 
     <div class="preformatted panel" style="border-width: 1px;">
      <div class="preformattedContent panelContent"> 
       <pre>asadmin deploy --runtimealtdd &lt;path to alternate vendor specific deployment descriptor&gt; foo.ear
</pre> 
      </div>
     </div> <p>The specified alternate vendor specific deployment descriptor will override the one packaged inside the application archive if exists.</p> <p>This support is for GlassFish deployment descriptors (<tt>glassfish-<b>.xml</b></tt><b>) only and not for the deprecated Sun deployment descriptors (<tt>sun-</tt></b><tt>.xml</tt>), and the file name of the alternate GlassFish deployment descriptors needs to be prefixed with <tt>"glassfish-"</tt>.</p> <h4><a name="GlassFish4.0DeploymentOnePager-DeploymentOrder"></a>Deployment Order</h3> <p>User could specify a deployment order number during initial deployment of the application, and that number will be used to determine the loading order of the application during server start up. This could be useful when user has applications which have inter-dependencies among them, and user wants to make sure the applications are loaded in certain order during server start up.</p> <p>An optional <tt>deploymentorder</tt> option is added to the CLI deploy command for the user to specify the deployment order number. Application with a lower deployment order number will be loaded before the application with a higher deployment order number. The default value for the deployment order is 100.</p> <p>In the following example, application <tt>foo</tt> is deployed with a deployment order <tt>102</tt>, and application <tt>bar</tt> is deployed with a deployment order <tt>110</tt>, application <tt>foo</tt> will be loaded before application <tt>bar</tt> during server (re)start up.</p> 
     <div class="preformatted panel" style="border-width: 1px;">
      <div class="preformattedContent panelContent"> 
       <pre>asadmin deploy --deploymentorder 102 --name foo foo.war

asadmin deploy --deploymentorder 110 -- name bar bar.war
</pre> 
      </div>
     </div> <p>The deployment order number can be configured post deployment (though users usually would plan the deployment order of the applications before the initial deployments) through the asadmin set command:</p> 
     <div class="preformatted panel" style="border-width: 1px;">
      <div class="preformattedContent panelContent"> 
       <pre>asadmin set applications.application.foo.deployment-order=112
</pre> 
      </div>
     </div> <p>This will cause the application <tt>foo</tt> to be loaded after the application <tt>bar</tt> in the next server (re)start up.</p> <p>User could check for the current assigned number of the deployment order through the get command:</p> 
     <div class="preformatted panel" style="border-width: 1px;">
      <div class="preformattedContent panelContent"> 
       <pre>asadmin get applications.application.foo.deployment-order
</pre> 
      </div>
     </div> <h4><a name="GlassFish4.0DeploymentOnePager-4.2.Bug%2FRFENumber%28s%29%3A"></a>4.2. Bug/RFE Number(s):</h2> <h4><a name="GlassFish4.0DeploymentOnePager-4.3.InScope%3A"></a>4.3. In Scope:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-DeploymentOrder"></a>Deployment Order</h3> <p>Support deployment order of user applications</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.4.OutofScope%3A"></a>4.4. Out of Scope:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-DeploymentOrder"></a>Deployment Order</h3> <p>Support deployment order of resources</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.5.Interfaces%3A"></a>4.5. Interfaces:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-4.5.1PublicInterfaces"></a>4.5.1 Public Interfaces</h3> 
     <ul> 
      <li>Interface: CLI <tt>deploy</tt> command</li> 
      <li>Comment: add <tt>altdd</tt> and <tt>runtimealtdd</tt> options for supporting external deployment descriptor, add <tt>deploymentorder</tt> option for supporting deployment order</li> 
     </ul> <h4><a name="GlassFish4.0DeploymentOnePager-4.5.2PrivateInterfaces"></a>4.5.2 Private Interfaces</h3> <h4><a name="GlassFish4.0DeploymentOnePager-4.5.3Deprecated%2FRemovedInterfaces%3A"></a>4.5.3 Deprecated/Removed Interfaces:</h3> <p>N/A</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.6.DocImpact%3A"></a>4.6. Doc Impact:</h2> <p>Update man pages for the new/modified CLI commands</p> <p>Application Deployment Guide/Developer Guide for new features</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.7.Admin%2FConfigImpact%3A"></a>4.7. Admin/Config Impact:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-CLI"></a>CLI</h3> <p>Additional options <tt>altdd</tt>, <tt>runtimealtdd</tt>, <tt>deploymentorder</tt> to the deploy command.</p> <h4><a name="GlassFish4.0DeploymentOnePager-GUI"></a>GUI</h3> <p>GUI should provide equivalent functionality as CLI (allow user to input additional options).</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.8.HAImpact%3A"></a>4.8. HA Impact:</h2> <p>N/A</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.9.I18N%2FL10NImpact%3A"></a>4.9. I18N/L10N Impact:</h2> <p>N/A</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.10.Packaging%2CDelivery%26Upgrade%3A"></a>4.10. Packaging, Delivery &amp; Upgrade:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-4.10.1.Packaging"></a>4.10.1. Packaging</h3> <p>Changes will be made to existing deployment modules.</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.10.2.Delivery"></a>4.10.2. Delivery</h3> <p>N/A</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.10.3.UpgradeandMigration%3A"></a>4.10.3. Upgrade and Migration:</h3> <p>N/A</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.11.SecurityImpact%3A"></a>4.11. Security Impact:</h2> <p>N/A</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.12.CompatibilityImpact"></a>4.12. Compatibility Impact</h2> <p>No compatibility impact. The new options of the CLI commands are all optional.</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.13.Dependencies%3A"></a>4.13. Dependencies:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-4.13.1InternalDependencies"></a>4.13.1 Internal Dependencies</h3> <p>N/A</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.13.2ExternalDependencies"></a>4.13.2 External Dependencies</h3> <p>Java EE 7 specifications</p> <h4><a name="GlassFish4.0DeploymentOnePager-4.14.TestingImpact%3A"></a>4.14. Testing Impact:</h2> <p>Unit tests/functional tests will be added to cover the new features</p> <h4><a name="GlassFish4.0DeploymentOnePager-5.ReferenceDocuments%3A"></a>5. Reference Documents:</h1> <h4><a name="GlassFish4.0DeploymentOnePager-References"></a>References</h2> 
     <ul> 
      <li><a href="http://jcp.org/en/jsr/detail-342">Java EE 7 Platform Specification </a></li> 
     </ul> <h4><a name="GlassFish4.0DeploymentOnePager-6.Schedule%3A"></a>6. Schedule:</h1> <h4><a name="GlassFish4.0DeploymentOnePager-6.1.ProjectedAvailability%3A"></a>6.1. Projected Availability:</h2> <h4><a name="GlassFish4.0DeploymentOnePager-JavaEE7Requirements"></a>Java EE 7 Requirements</h3> 
     <ul> 
      <li>Initially integrated: EEMS3</li> 
      <li>Feature complete: EEMS4</li> 
      <li>At production quality level: EEMS6</li> 
     </ul> <h4><a name="GlassFish4.0DeploymentOnePager-DeploymentOrder"></a>Deployment Order</h3> 
     <ul> 
      <li>Initially integrated: EEMS2</li> 
      <li>Feature complete: EEMS3</li> 
      <li>At production quality level: EEMS6</li> 
     </ul> </td> 
   </tr> 
  </tbody>
 </table>    
</body></div>
        <br/>

        <!-- footer================================================== -->
        <footer class="well">
            <div class="container">

                <div class="row-fluid" id="bottom-info">
                    <!--div class="span6 pagination-centered" id="social"-->
                    <div class="span4" id="social">			
                        <a href="http://blogs.oracle.com/theaquarium/"><img src="../images/icons/TheAquarium.png"></a>
                        <a href="https://twitter.com/glassfish"><img src="../images/icons/twitter.png"></a>
                        <a href="https://plus.google.com/communities/106098646151660933759"><img src="../images/icons/google.png"></a>
                        <a href="http://www.linkedin.com/groups/GlassFish-Users-106819/about"><img src="../images/icons/linkedin.png"></a>
                        <a href="http://www.youtube.com/user/GlassFishVideos"><img src="../images/icons/youtube.png"></a>
                        <a href="https://www.facebook.com/GlassFish"><img src="../images/icons/facebook.png"></a>
                    </div>

                    <div class="span8" id="copyright">Page last changed on Jan 30, 2013 by 
<font color="#0050B2">17971</font>. Exported from wikis.oracle.com on May 27, 2015 20:47.<br/>
                        Copyright &copy; 2005-2015 Oracle Corporation and/or its affiliates.</div>
                </div>
            </div>
        </footer>

        <!-- ================================================== -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/bootstrap-tab.js"></script>
	<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<!--  Begin SiteCatalyst code  -->
  	<!--  End SiteCatalyst code  -->
    </body>
</html>